'''
Name: Zhuofei Xie

Date created: 2017/11/1

Purpose: opening file with correct format and printing the information with correct format by using the code write in PlayersYear.py
Sample run(s):
All players in file order: 
----------------------------------------------------------------------------------
Player                Year     AB      S      D      T     HR       BA      SLG
----------------------------------------------------------------------------------
Hank Aaron            1971    495     90     22      3     47      0.327    0.669
Barry Bonds           2002    403     70     31      2     46      0.370    0.799
Rod Carew             1974    599    180     30      5      3      0.364    0.446
Ty Cobb               1912    553    166     30     23      7      0.409    0.584
Joe DiMaggio          1937    621    119     35     15     46      0.346    0.673
Mickey Mantle         1956    533    109     22      5     52      0.353    0.705
Roger Maris           1961    590     78     16      4     61      0.269    0.620
Willie Mays           1963    596    110     32      7     38      0.314    0.582
Wilbur Stargell       1978    390     67     18      2     28      0.295    0.567
Ted Williams          1957    420     96     28      1     38      0.388    0.731
Babe Ruth             1920    457     73     36      9     54      0.376    0.849
Bill Mazeroski        1960    538    110     21      5     11      0.273    0.392
Frank Gustine         1941    463     93     24      7      1      0.270    0.359
Thurman Munson        1975    597    151     24      3     12      0.318    0.429
Orlando Cepada        1967    563    121     37      0     25      0.325    0.524

All Average in file order: 
--------------------------------------------------
Player            Slugging %             Year
--------------------------------------------------
Hank Aaron          0.669                1971
Barry Bonds         0.799                2002
Rod Carew           0.446                1974
Ty Cobb             0.584                1912
Joe DiMaggio        0.673                1937
Mickey Mantle       0.705                1956
Roger Maris         0.620                1961
Willie Mays         0.582                1963
Wilbur Stargell     0.567                1978
Ted Williams        0.731                1957
Babe Ruth           0.849                1920
Bill Mazeroski      0.392                1960
Frank Gustine       0.359                1941
Thurman Munson      0.429                1975
Orlando Cepada      0.524                1967

Sorted by home runs: 
----------------------------------------------------------------------------------
Player                Year     AB      S      D      T     HR       BA      SLG
----------------------------------------------------------------------------------
Frank Gustine         1941    463     93     24      7      1      0.270    0.359
Rod Carew             1974    599    180     30      5      3      0.364    0.446
Ty Cobb               1912    553    166     30     23      7      0.409    0.584
Bill Mazeroski        1960    538    110     21      5     11      0.273    0.392
Thurman Munson        1975    597    151     24      3     12      0.318    0.429
Orlando Cepada        1967    563    121     37      0     25      0.325    0.524
Wilbur Stargell       1978    390     67     18      2     28      0.295    0.567
Willie Mays           1963    596    110     32      7     38      0.314    0.582
Ted Williams          1957    420     96     28      1     38      0.388    0.731
Barry Bonds           2002    403     70     31      2     46      0.370    0.799
Joe DiMaggio          1937    621    119     35     15     46      0.346    0.673
Hank Aaron            1971    495     90     22      3     47      0.327    0.669
Mickey Mantle         1956    533    109     22      5     52      0.353    0.705
Babe Ruth             1920    457     73     36      9     54      0.376    0.849
Roger Maris           1961    590     78     16      4     61      0.269    0.620

Sorted by slugging percentage (hi to low): 
--------------------------------------------------
Player            Slugging %             Year
--------------------------------------------------
Babe Ruth           0.849                1920
Barry Bonds         0.799                2002
Ted Williams        0.731                1957
Mickey Mantle       0.705                1956
Joe DiMaggio        0.673                1937
Hank Aaron          0.669                1971
Roger Maris         0.620                1961
Ty Cobb             0.584                1912
Willie Mays         0.582                1963
Wilbur Stargell     0.567                1978
Orlando Cepada      0.524                1967
Rod Carew           0.446                1974
Thurman Munson      0.429                1975
Bill Mazeroski      0.392                1960
Frank Gustine       0.359                1941

Sorted by at bats: 
----------------------------------------------------------------------------------
Player                Year     AB      S      D      T     HR       BA      SLG
----------------------------------------------------------------------------------
Wilbur Stargell       1978    390     67     18      2     28      0.295    0.567
Barry Bonds           2002    403     70     31      2     46      0.370    0.799
Ted Williams          1957    420     96     28      1     38      0.388    0.731
Babe Ruth             1920    457     73     36      9     54      0.376    0.849
Frank Gustine         1941    463     93     24      7      1      0.270    0.359
Hank Aaron            1971    495     90     22      3     47      0.327    0.669
Mickey Mantle         1956    533    109     22      5     52      0.353    0.705
Bill Mazeroski        1960    538    110     21      5     11      0.273    0.392
Ty Cobb               1912    553    166     30     23      7      0.409    0.584
Orlando Cepada        1967    563    121     37      0     25      0.325    0.524
Roger Maris           1961    590     78     16      4     61      0.269    0.620
Willie Mays           1963    596    110     32      7     38      0.314    0.582
Thurman Munson        1975    597    151     24      3     12      0.318    0.429
Rod Carew             1974    599    180     30      5      3      0.364    0.446
Joe DiMaggio          1937    621    119     35     15     46      0.346    0.673

All players in file order: 
----------------------------------------------------------------------------------
Player                Year     AB      S      D      T     HR       BA      SLG
----------------------------------------------------------------------------------
Joe DiMaggio          1936    637    118     44     15     29      0.323    0.576
Joe DiMaggio          1937    621    119     35     15     46      0.346    0.673
Joe DiMaggio          1938    660    117     32     13     32      0.294    0.527
Joe DiMaggio          1939    524    108     32      6     30      0.336    0.592
Joe DiMaggio          1940    572    111     28      9     31      0.313    0.556
Joe DiMaggio          1941    622    109     43     11     30      0.310    0.559
Joe DiMaggio          1942    680    123     29     13     21      0.274    0.447
Joe DiMaggio          1946    567     93     20      8     25      0.257    0.453
Joe DiMaggio          1947    601    107     31     10     20      0.280    0.464
Joe DiMaggio          1948    669    114     26     11     39      0.284    0.531
Joe DiMaggio          1949    329     60     14      6     14      0.286    0.492
Joe DiMaggio          1950    606     83     33     10     32      0.261    0.507
Joe DiMaggio          1951    482     71     22      4     12      0.226    0.363

All Average in file order: 
--------------------------------------------------
Player            Slugging %             Year
--------------------------------------------------
Joe DiMaggio        0.576                1936
Joe DiMaggio        0.673                1937
Joe DiMaggio        0.527                1938
Joe DiMaggio        0.592                1939
Joe DiMaggio        0.556                1940
Joe DiMaggio        0.559                1941
Joe DiMaggio        0.447                1942
Joe DiMaggio        0.453                1946
Joe DiMaggio        0.464                1947
Joe DiMaggio        0.531                1948
Joe DiMaggio        0.492                1949
Joe DiMaggio        0.507                1950
Joe DiMaggio        0.363                1951

Sorted by home runs: 
----------------------------------------------------------------------------------
Player                Year     AB      S      D      T     HR       BA      SLG
----------------------------------------------------------------------------------
Joe DiMaggio          1951    482     71     22      4     12      0.226    0.363
Joe DiMaggio          1949    329     60     14      6     14      0.286    0.492
Joe DiMaggio          1947    601    107     31     10     20      0.280    0.464
Joe DiMaggio          1942    680    123     29     13     21      0.274    0.447
Joe DiMaggio          1946    567     93     20      8     25      0.257    0.453
Joe DiMaggio          1936    637    118     44     15     29      0.323    0.576
Joe DiMaggio          1939    524    108     32      6     30      0.336    0.592
Joe DiMaggio          1941    622    109     43     11     30      0.310    0.559
Joe DiMaggio          1940    572    111     28      9     31      0.313    0.556
Joe DiMaggio          1938    660    117     32     13     32      0.294    0.527
Joe DiMaggio          1950    606     83     33     10     32      0.261    0.507
Joe DiMaggio          1948    669    114     26     11     39      0.284    0.531
Joe DiMaggio          1937    621    119     35     15     46      0.346    0.673

Sorted by slugging percentage (hi to low): 
--------------------------------------------------
Player            Slugging %             Year
--------------------------------------------------
Joe DiMaggio        0.673                1937
Joe DiMaggio        0.592                1939
Joe DiMaggio        0.576                1936
Joe DiMaggio        0.559                1941
Joe DiMaggio        0.556                1940
Joe DiMaggio        0.531                1948
Joe DiMaggio        0.527                1938
Joe DiMaggio        0.507                1950
Joe DiMaggio        0.492                1949
Joe DiMaggio        0.464                1947
Joe DiMaggio        0.453                1946
Joe DiMaggio        0.447                1942
Joe DiMaggio        0.363                1951

Sorted by at bats: 
----------------------------------------------------------------------------------
Player                Year     AB      S      D      T     HR       BA      SLG
----------------------------------------------------------------------------------
Joe DiMaggio          1949    329     60     14      6     14      0.286    0.492
Joe DiMaggio          1951    482     71     22      4     12      0.226    0.363
Joe DiMaggio          1939    524    108     32      6     30      0.336    0.592
Joe DiMaggio          1946    567     93     20      8     25      0.257    0.453
Joe DiMaggio          1940    572    111     28      9     31      0.313    0.556
Joe DiMaggio          1947    601    107     31     10     20      0.280    0.464
Joe DiMaggio          1950    606     83     33     10     32      0.261    0.507
Joe DiMaggio          1937    621    119     35     15     46      0.346    0.673
Joe DiMaggio          1941    622    109     43     11     30      0.310    0.559
Joe DiMaggio          1936    637    118     44     15     29      0.323    0.576
Joe DiMaggio          1938    660    117     32     13     32      0.294    0.527
Joe DiMaggio          1948    669    114     26     11     39      0.284    0.531
Joe DiMaggio          1942    680    123     29     13     21      0.274    0.447

What would you like to do?
'''
from PlayersYear import * 
def getKeyOnHR(y):     ### def a function that you want to find as a sort mood
    return y.get_stats()[3]   ### the way to get the key of sort mood ()  in this one we want to let home run as a sort method

def getKeyOnSP(y):    ### def a function that you want to find as a sort mood
    return y.slugging_percentage()   ### the way to get the key of sort mood ()   in this one we want to let slugging-percentage as a sort method

def getKeyOnBats(y):   ## def a function that you want to find as a sort mood
    return y.get_stats()[-1]  ### the way to get the key of sort mood ()   in this one we want to the Bats as a sort-method

def readfile(filename):   ###def a function to read a file 
    file = []   ### creat a list for file
    the_file = open(filename, "r")   ### open the file and read the information inside the file
    line=the_file.readline()   ### create line in the file
    while line !='':    ### if file not equal to an empty list 
        line = line.rstrip("\n")   ### create a single sting for a file
        file.append(line.split(":"))   ###split the string which has ":" and add each line to the file
        line=the_file.readline()   ### let file readline
    return file    ### return the file in order to call in the main function
    
def playersyear(file):  ### def a function called playersyear and let file be a perimeter 
    Players = []  ### creating a list for the players
    for i in range(0,len(file)):  ### for all information in side the file let i equals to the length of the file list
        year = file[i][0][0:4]   ### because the format of the file is ["yearname","#1","#2","#3","#4","#5"], the information of the year should be the first   
                                 ### 4 stings in the list position 1
        player = file[i][0][4:]  ### the information of players should be in the firsting string of each list and the information of the following information
        stats= [int(file[i][1]), ### grab the first number of the list
                int(file[i][2]), ###grab the second number of the list
                int(file[i][3]),  ### grab the third number of the list
                int(file[i][4]),  ###grab the forth number of the list
                int(file[i][5])] ###grab the fifth number of the list
        temp = PlayersYear(year,player,stats) ### call the information on the PlayersYear.py (formationt the information we got)
        Players.append(temp)  ### adding the information of the temp to the list Players 
    return Players  ### returning the information we got from Players in order to call that at the main function
    

def all_players(Players):   ### creat a function to find out all information in the file with the same order 
    print("All players in file order: ")  ###print the title
    PlayersYear.heading1() ###print out the heading we got in the PlayersYear.py
    for x in Players: ### x is the infrmation all inside the Players list
        print(x) ###print out the information in the list with the order of origin
        
def all_average(Players): ### creat a function to find out all information in the file but just for average
    print("All Average in file order: ") ### print out the title of this function 
    PlayersYear.heading2()  ###print out the heading2 we creat in the PlayersYear.py
    for x in Players:  ### x like the name of the Players list
        print(x.print_player())  ### just print out the average points of the players
        
def sort_by_homeruns(Players):  ### def a function that need to sort the information we get 
    print("Sorted by home runs: ") ###print the title we have
    PlayersYear.heading1() ### print the heading1 
    Players.sort(key = getKeyOnHR)  ### sort all information in the file with the order of home run from sallest to biggest
    for x in Players:  ### for all information inside the list
        print(x)  ### print out the information

def sort_by_SP(Players): ### def a function that need to sort the information we get
    print("Sorted by slugging percentage (hi to low): ") ###print the title of this function
    PlayersYear.heading2() ###print the heading 2
    Players.sort(key = getKeyOnSP,reverse=True) ###sort the information of slugging-points and need have a reverse way
    for x in Players: ### for all information inside the list
        print(x.print_player())  ### print out the information

def sort_by_bats(Players):  ### def a function to sort the information of bats
    print("Sorted by at bats: ") ###print the title of this information
    PlayersYear.heading1() ###print the title heading1 
    Players.sort(key=getKeyOnBats) ### sort the information we got from the file
    for x in Players: ### for all information inside the Players list
        print(x)  ### print out the information we got
            
def main(): ### def a main function at the end
    filename = input("Enter a file you want to open: ")  ### asking the user to type the file that want to read
    file=readfile(filename) ### file = the information we got from read file
    Players = playersyear(file) ### Players should equal the information got on the function Players
    print() ### print an empty string
    all_players(Players) ### call function
    print()### print an empty string
    all_average(Players)### call function
    print()### print an empty string
    sort_by_homeruns(Players)### call function
    print()### print an empty string
    sort_by_SP(Players)### call function
    print()### print an empty string
    sort_by_bats(Players)### call function
    print(file)
main() ### call main function at the end